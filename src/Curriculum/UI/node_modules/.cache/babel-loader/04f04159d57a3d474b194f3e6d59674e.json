{"ast":null,"code":"var _jsxFileName = \"/home/mstuder/Develop/ILIAS/medi/ilias/Customizing/global/plugins/Services/UIComponent/UserInterfaceHook/SrCurriculum/src/Curriculum/Infrastructure/UI/tree/src/CurriculumTree.js\";\nimport React from 'react';\nimport './styles.css';\nimport Tree from '@naisutech/react-tree';\n\nclass CurriculumTree extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onSelect = selectedNode => {\n      console.log(selectedNode);\n      this.setState({\n        nodeIdToLoad: selectedNode.id\n      });\n    };\n\n    const onSelect = () => {};\n\n    this.state = {\n      urlTreeService: document.getElementById('treeservice').textContent,\n      nodeIdToLoad: document.getElementById('treeservice-nodeid').textContent,\n      loadedTreeNodeIds: [],\n      nodesOfTree: []\n    };\n  }\n\n  loadTreeSection(nodeIdToLoad, loadedTreeNodeIds, nodesOfTree) {\n    console.log(this.state.urlTreeService + \"&node_ids=\" + JSON.stringify({ ...nodeIdToLoad\n    }));\n    fetch(this.state.urlTreeService + \"&node_ids=\" + JSON.toString({ ...nodeIdToLoad\n    })).then(res => res.json()).then(json => {\n      this.setState({\n        loadedTreeNodeIds: loadedTreeNodeIds.concat(nodeIdToLoad),\n        nodesOfTree: json\n      });\n    });\n  }\n\n  render() {\n    const {\n      urlTreeService,\n      nodeIdToLoad,\n      loadedTreeNodeIds,\n      nodesOfTree\n    } = this.state;\n    console.log(loadedTreeNodeIds);\n    console.log(nodeIdToLoad);\n\n    if (this.checkIfLoaded(loadedTreeNodeIds, nodeIdToLoad) === true) {\n      console.log(\"HEUREKA\");\n      console.log(nodesOfTree);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"showtree\",\n        style: {\n          display: 'flex',\n          flexWrap: 'nowrap',\n          flexGrow: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: '50%',\n          display: 'flex',\n          flexDirection: 'column'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Tree, {\n        nodes: nodesOfTree,\n        showEmptyItems: true,\n        size: \"half\",\n        theme: 'light',\n        onSelect: this.onSelect,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }\n      })));\n    } else {\n      console.log(\"load teree section\");\n      this.loadTreeSection(nodeIdToLoad, loadedTreeNodeIds, nodesOfTree);\n      console.log(\"loading\");\n      return \"loading\";\n    }\n  }\n\n  checkIfLoaded(loadedTreeNodeIds, nodeIdToLoad) {\n    return loadedTreeNodeIds.indexOf(nodeIdToLoad) >= 0;\n  }\n\n}\n\nexport default CurriculumTree;\nCurriculumTree.propTypes = {};","map":{"version":3,"sources":["/home/mstuder/Develop/ILIAS/medi/ilias/Customizing/global/plugins/Services/UIComponent/UserInterfaceHook/SrCurriculum/src/Curriculum/Infrastructure/UI/tree/src/CurriculumTree.js"],"names":["React","Tree","CurriculumTree","Component","constructor","props","onSelect","selectedNode","console","log","setState","nodeIdToLoad","id","state","urlTreeService","document","getElementById","textContent","loadedTreeNodeIds","nodesOfTree","loadTreeSection","JSON","stringify","fetch","toString","then","res","json","concat","render","checkIfLoaded","display","flexWrap","flexGrow","width","flexDirection","indexOf","propTypes"],"mappings":"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","sourcesContent":["import React from 'react'\n\nimport './styles.css'\nimport Tree from '@naisutech/react-tree';\n\nclass CurriculumTree extends React.Component {\n\n\n  constructor(props) {\n    super(props)\n\n\n    const onSelect = () => {}\n\n    this.state = {\n      urlTreeService: document.getElementById('treeservice').textContent,\n      nodeIdToLoad: document.getElementById('treeservice-nodeid').textContent,\n      loadedTreeNodeIds: [],\n      nodesOfTree: []\n    }\n  }\n\n  loadTreeSection(nodeIdToLoad,\n                  loadedTreeNodeIds,\n                  nodesOfTree) {\n    console.log(this.state.urlTreeService + \"&node_ids=\" + JSON.stringify({...nodeIdToLoad}));\n    fetch(this.state.urlTreeService + \"&node_ids=\" + JSON.toString({...nodeIdToLoad}))\n    .then(res => res.json())\n    .then(json => {\n      this.setState({\n        loadedTreeNodeIds: loadedTreeNodeIds.concat(nodeIdToLoad),\n          nodesOfTree: json\n      })\n\n    })\n  }\n\n  onSelect = (selectedNode) => {\n    console.log(selectedNode)\n      this.setState({nodeIdToLoad:selectedNode.id})\n  }\n\n\n  render() {\n    const { urlTreeService, nodeIdToLoad, loadedTreeNodeIds, nodesOfTree } = this.state;\n    console.log(loadedTreeNodeIds)\n    console.log(nodeIdToLoad)\n    if (this.checkIfLoaded(loadedTreeNodeIds, nodeIdToLoad) === true) {\n      console.log(\"HEUREKA\")\n      console.log(nodesOfTree);\n      return (\n        <div className=\"showtree\" style={{ display: 'flex', flexWrap: 'nowrap', flexGrow: 1 }}>\n          <div style={{ width: '50%', display: 'flex', flexDirection: 'column' }}>\n            <Tree nodes={nodesOfTree} showEmptyItems size=\"half\" theme={'light'} onSelect={this.onSelect}/>\n          </div>\n        </div>\n      )\n    } else {\n      console.log(\"load teree section\")\n      this.loadTreeSection(\n        nodeIdToLoad, loadedTreeNodeIds, nodesOfTree\n      )\n      console.log(\"loading\")\n      return \"loading\"\n    }\n  }\n\n\n\n  checkIfLoaded(loadedTreeNodeIds, nodeIdToLoad) {\n    return loadedTreeNodeIds.indexOf(nodeIdToLoad) >= 0\n  }\n\n}\n\nexport default CurriculumTree;\nCurriculumTree.propTypes = {}\n\n\n"]},"metadata":{},"sourceType":"module"}