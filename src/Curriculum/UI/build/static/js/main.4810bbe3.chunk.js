(this.webpackJsonptree=this.webpackJsonptree||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(2),d=n.n(r),i=(n(14),n(15),n(6)),s=n(3),l=n(4),c=n(8),h=n(7),u=(n(16),n(5)),T=n.n(u),f=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).onSelect=function(e){"cat"==e.type?o.onSelectilCategory(e):o.onSelectilItem(e)},o.state={urlTreeService:document.getElementById("treeservice").textContent,nodeIdToLoad:document.getElementById("treeservice-nodeid").textContent,nodeDepthToLoad:1,loadedTreeNodeIds:[],nodesOfTree:[],alreadyinTree:[],showLoadingSpinner:1},o.loadTreeSection(o.state.nodeIdToLoad,o.state.nodeDepthToLoad,o.state.loadedTreeNodeIds,o.state.nodesOfTree,o.state.alreadyinTree),o}return Object(l.a)(n,[{key:"loadTreeSection",value:function(e,t,n,o,a){var r=this,d=new URLSearchParams;d.append("node_id",e),d.append("node_depth",t),fetch(this.state.urlTreeService+"&"+d).then((function(e){return e.json()})).then((function(t){for(var n,o=0;o<t.length;o++)n=t[o],console.log(n.id),!1===r.checkIfLoaded(a,n.id)&&(console.log("LOAD"),r.state.nodesOfTree.push(n),r.state.alreadyinTree.push(n.id));r.setState({loadedTreeNodeIds:[].concat(Object(i.a)(r.state.loadedTreeNodeIds),[e]),nodesOfTree:r.state.nodesOfTree,alreadyinTree:r.state.alreadyinTree,showLoadingSpinner:""})}))}},{key:"onSelectilCategory",value:function(e){var t=this.state,n=(t.urlTreeService,t.nodeIdToLoad,t.nodeDepthToLoad,t.loadedTreeNodeIds),o=t.nodesOfTree,a=t.alreadyinTree;t.showLoadingSpinner;!1===this.checkIfLoaded(n,e.id)&&(this.setState({showLoadingSpinner:1}),this.loadTreeSection(e.id,e.depth,n,o,a))}},{key:"onSelectilItem",value:function(e){var t=this.state;t.urlTreeService,t.nodeIdToLoad,t.nodeDepthToLoad,t.loadedTreeNodeIds,t.nodesOfTree,t.alreadyinTree,t.showLoadingSpinner;console.log(e.link),this.setState({showLoadingSpinner:1}),window.location.href=e.link}},{key:"render",value:function(){var e=this.state,t=(e.urlTreeService,e.nodeIdToLoad,e.nodeDepthToLoad,e.loadedTreeNodeIds,e.nodesOfTree),n=e.showLoadingSpinner;return a.a.createElement("div",{className:"showtree",style:{display:"flex",flexWrap:"nowrap",flexGrow:1}},a.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",flexGrow:1}},a.a.createElement(T.a,{nodes:t,theme:"light",onSelect:this.onSelect,isLoading:n})))}},{key:"checkIfLoaded",value:function(e,t){return e.indexOf(t)>=0}}]),n}(a.a.Component);function p(){return a.a.createElement(f,null)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.4810bbe3.chunk.js.map